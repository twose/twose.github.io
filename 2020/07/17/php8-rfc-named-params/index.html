<!DOCTYPE html>
<html>
<head>
    

    

    



    <meta charset="utf-8">
    
    
    
    
    <title>漫谈PHP8新特性：命名参数 | TWO SEE | SEE is the sea of cc</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="php,php8,rfc">
    <meta name="description" content="本文是对「命名参数RFC」的个人解读，先让我们来简单看下RFC的主要内容： 命名参数特性允许基于参数名称而不是参数位置来传递参数，这使得：  可以跳过默认值 参数的传递可与顺序无关 参数的含义可以自我记录">
<meta property="og:type" content="article">
<meta property="og:title" content="漫谈PHP8新特性：命名参数">
<meta property="og:url" content="http://www.twosee.cn/2020/07/17/php8-rfc-named-params/index.html">
<meta property="og:site_name" content="TWO SEE">
<meta property="og:description" content="本文是对「命名参数RFC」的个人解读，先让我们来简单看下RFC的主要内容： 命名参数特性允许基于参数名称而不是参数位置来传递参数，这使得：  可以跳过默认值 参数的传递可与顺序无关 参数的含义可以自我记录">
<meta property="article:published_time" content="2020-07-17T10:25:20.000Z">
<meta property="article:modified_time" content="2020-08-04T05:53:32.553Z">
<meta property="article:author" content="Twosee">
<meta property="article:tag" content="php">
<meta property="article:tag" content="php8">
<meta property="article:tag" content="rfc">
<meta name="twitter:card" content="summary">
    
        <link rel="alternate" type="application/atom+xml" title="TWO SEE" href="/atom.xml">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="/css/style.css?v=1.7.2">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

<meta name="generator" content="Hexo 4.2.1"></head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="https://avatars2.githubusercontent.com/u/25978241?s=460&v=4">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">Twosee</h5>
          <a href="mailto:twose@qq.com" title="twose@qq.com" class="mail">twose@qq.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                文章
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                标签
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                分类
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/twose" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="http://www.weibo.com/twoseee" target="_blank" >
                <i class="icon icon-lg icon-weibo"></i>
                Weibo
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">漫谈PHP8新特性：命名参数</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="Search">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">漫谈PHP8新特性：命名参数</h1>
        <h5 class="subtitle">
            
                <time datetime="2020-07-17T10:25:20.000Z" itemprop="datePublished" class="page-time">
  2020-07-17
</time>


            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#命名参数的好处"><span class="post-toc-number">1.</span> <span class="post-toc-text">命名参数的好处</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#允许跳过默认值"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">允许跳过默认值</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#参数含义的自我记录及传递顺序无关性"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">参数含义的自我记录及传递顺序无关性</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#更简便的API调用"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">更简便的API调用</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#更快捷的对象属性的初始化"><span class="post-toc-number">1.4.</span> <span class="post-toc-text">更快捷的对象属性的初始化</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#更好的注解兼容性"><span class="post-toc-number">1.5.</span> <span class="post-toc-text">更好的注解兼容性</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#思考"><span class="post-toc-number">2.</span> <span class="post-toc-text">思考</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#命名参数的困境"><span class="post-toc-number">3.</span> <span class="post-toc-text">命名参数的困境</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#修改参数名即是破坏向后兼容性"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">修改参数名即是破坏向后兼容性</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#文档和实现中的参数名称不匹配"><span class="post-toc-number">3.2.</span> <span class="post-toc-text">文档和实现中的参数名称不匹配</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#继承的方法中不宜重命名参数名"><span class="post-toc-number">3.3.</span> <span class="post-toc-text">继承的方法中不宜重命名参数名</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#未来方向"><span class="post-toc-number">4.</span> <span class="post-toc-text">未来方向</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#简写语法"><span class="post-toc-number">4.1.</span> <span class="post-toc-text">简写语法</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#结语"><span class="post-toc-number">5.</span> <span class="post-toc-text">结语</span></a></li></ol>
        </nav>
    </aside>


<article id="post-php8-rfc-named-params"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">漫谈PHP8新特性：命名参数</h1>
        <div class="post-meta">
            <time class="post-time" title="2020-07-17 18:25:20" datetime="2020-07-17T10:25:20.000Z"  itemprop="datePublished">2020-07-17</time>

            


            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <p>本文是对「<a href="https://wiki.php.net/rfc/named_params" target="_blank" rel="noopener">命名参数RFC</a>」的个人解读，先让我们来简单看下RFC的主要内容：</p>
<p>命名参数特性允许基于参数名称而不是参数位置来传递参数，这使得：</p>
<ol>
<li>可以跳过默认值</li>
<li>参数的传递可与顺序无关</li>
<li>参数的含义可以自我记录</li>
</ol>
<span id="more"></span>

<blockquote>
<p>其实这个特性的RFC早在2013年和2016年就有人建立过了，但一直没有通过或是实施，直到PHP8版本，该RFC终于得到机会再次启用，并且发起人是PHP内核的核心开发者Nikita Popov（nikic），nikic对此做了非常详细的调研，RFC全文字数差不多有三万字（相比于PHP的其它RFC而言已经是相当的多了），该RFC刚开始投票的时候还有一定的悬念（PHP社区的元老级人物对于新特性总是给出反对票），但很快赞同数就远超了2/3多数，目前RFC已投票通过。</p>
</blockquote>
<h2 id="命名参数的好处"><a href="#命名参数的好处" class="headerlink" title="命名参数的好处"></a>命名参数的好处</h2><h3 id="允许跳过默认值"><a href="#允许跳过默认值" class="headerlink" title="允许跳过默认值"></a>允许跳过默认值</h3><p>最显著的例子就是：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// before</span></span><br><span class="line">htmlspecialchars(<span class="variable">$string</span>, ENT_COMPAT | ENT_HTML401, ini_get(<span class="string">&#x27;default_charset&#x27;</span>), <span class="literal">false</span>);</span><br><span class="line"><span class="comment">// after</span></span><br><span class="line">htmlspecialchars(<span class="variable">$string</span>, double_encode: <span class="literal">false</span>);</span><br></pre></td></tr></table></figure>

<p>在没有命名参数特性之前，我们为了设置第四个参数<code>double_encode</code>，不得不给出第二第三个可选参数的默认值，我们可能需要查询文档或是编写冗长的代码，而有了命名参数特性之后，一切都简单了，并且哪怕某个参数的默认值发生了变化，代码也不会受到影响（虽然几乎不存在这样的情况，但某种意义上也是消除了硬编码）。</p>
<h3 id="参数含义的自我记录及传递顺序无关性"><a href="#参数含义的自我记录及传递顺序无关性" class="headerlink" title="参数含义的自我记录及传递顺序无关性"></a>参数含义的自我记录及传递顺序无关性</h3><p>比如对于某个我们我们不熟的函数（当然实际上来说，array系列函数都不熟的话可能连面试都通不过…）：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">array_fill(value: <span class="number">50</span>, start_index: <span class="number">0</span>, num: <span class="number">100</span>);</span><br></pre></td></tr></table></figure>

<p>代码已经包含了对每个入参的意义的表达，并且传参顺序也可以任意改变。</p>
<h3 id="更简便的API调用"><a href="#更简便的API调用" class="headerlink" title="更简便的API调用"></a>更简便的API调用</h3><p>但我觉得这样的全命名写法一般来说是多此一举，容易造成书写风格的割裂，并且装了插件的编辑器或是IDE都能很好地显示出参数名。</p>
<p>所以这个特性最大的受益者应该是可选参数特别多或设计不合理的一些API，比如又臭又长的OpenSSL的API：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">openssl_encrypt</span>(<span class="params"><span class="keyword">string</span> <span class="variable">$data</span>, <span class="keyword">string</span> <span class="variable">$method</span>, <span class="keyword">string</span> <span class="variable">$password</span>, <span class="keyword">int</span> <span class="variable">$options</span> = <span class="number">0</span>, <span class="keyword">string</span> <span class="variable">$iv</span> = <span class="string">&#x27;&#x27;</span>, &amp;<span class="variable">$tag</span> = UNKNOWN, <span class="keyword">string</span> <span class="variable">$aad</span> = <span class="string">&#x27;&#x27;</span>, <span class="keyword">int</span> <span class="variable">$tag_length</span> = <span class="number">16</span></span>): <span class="title">string</span>|<span class="title">false</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="更快捷的对象属性的初始化"><a href="#更快捷的对象属性的初始化" class="headerlink" title="更快捷的对象属性的初始化"></a>更快捷的对象属性的初始化</h3><p>此外有所受益的是对象属性的初始化：</p>
<p>其实在早前就有RFC探讨了如何更好地初始化对象属性，以使对象构造更符合人体工程学。写过C++的同学肯定很快就想到了「<a href="https://zh.cppreference.com/w/cpp/language/list_initialization" target="_blank" rel="noopener">初始化列表</a>」，PHP也有人专门为此建立了一个RFC「<a href="https://wiki.php.net/rfc/object-initializer" target="_blank" rel="noopener">对象初始化器</a>」，但是显然专门为此添加一个新语法并不那么值得，以反对票一边倒的结果被拒绝了。但现在我们有了命名参数以后，这个问题自然就解决了：</p>
<blockquote>
<p>以下展示还包含了另一个已落地的PHP8新特性，<a href="https://wiki.php.net/rfc/constructor_promotion" target="_blank" rel="noopener">构造函数属性升级</a>，我们可以在声明构造函数的参数的同时将其声明为对象的属性：</p>
</blockquote>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Part of PHP AST representation</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ParamNode</span> <span class="keyword">extends</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">public</span> <span class="keyword">string</span> <span class="variable">$name</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">public</span> ExprNode <span class="variable">$default</span> = <span class="literal">null</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">public</span> TypeNode <span class="variable">$type</span> = <span class="literal">null</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">public</span> <span class="keyword">bool</span> <span class="variable">$byRef</span> = <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">public</span> <span class="keyword">bool</span> <span class="variable">$variadic</span> = <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        Location <span class="variable">$startLoc</span> = <span class="literal">null</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        Location <span class="variable">$endLoc</span> = <span class="literal">null</span></span></span></span><br><span class="line"><span class="params"><span class="function">    </span>) </span>&#123;</span><br><span class="line">        <span class="built_in">parent</span>::__construct(<span class="variable">$startLoc</span>, <span class="variable">$endLoc</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> ParamNode(<span class="string">&#x27;test&#x27;</span>, variadic: <span class="literal">true</span>);</span><br></pre></td></tr></table></figure>

<p>来看看没有这两个特性之前我们需要以怎样繁琐的方式写出同等的代码吧，我保证你肯定不想按以下方式写代码，除非你已经在用某种代码生成器来帮你完成这一工作：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ParamNode</span> <span class="keyword">extends</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">string</span> <span class="variable">$name</span>;</span><br><span class="line">    <span class="keyword">public</span> ?ExprNode <span class="variable">$default</span>;</span><br><span class="line">    <span class="keyword">public</span> ?TypeNode <span class="variable">$type</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">bool</span> <span class="variable">$byRef</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">bool</span> <span class="variable">$variadic</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">string</span> <span class="variable">$name</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        ExprNode <span class="variable">$default</span> = <span class="literal">null</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        TypeNode <span class="variable">$type</span> = <span class="literal">null</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">bool</span> <span class="variable">$byRef</span> = <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">bool</span> <span class="variable">$variadic</span> = <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        Location <span class="variable">$startLoc</span> = <span class="literal">null</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        Location <span class="variable">$endLoc</span> = <span class="literal">null</span></span></span></span><br><span class="line"><span class="params"><span class="function">    </span>) </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;name = <span class="variable">$name</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;default = <span class="variable">$default</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;type = <span class="variable">$type</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;byRef = <span class="variable">$byRef</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;variadic = <span class="variable">$variadic</span>;</span><br><span class="line">        <span class="built_in">parent</span>::__construct(<span class="variable">$startLoc</span>, <span class="variable">$endLoc</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> ParamNode(<span class="string">&#x27;test&#x27;</span>, <span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">false</span>, <span class="literal">true</span>);</span><br></pre></td></tr></table></figure>

<p>或者有的人会选择用「数组」这个万金油来解决：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ParamNode</span> <span class="keyword">extends</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">string</span> <span class="variable">$name</span>;</span><br><span class="line">    <span class="keyword">public</span> ExprNode <span class="variable">$default</span>;</span><br><span class="line">    <span class="keyword">public</span> TypeNode <span class="variable">$type</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">bool</span> <span class="variable">$byRef</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">bool</span> <span class="variable">$variadic</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"><span class="keyword">string</span> <span class="variable">$name</span>, <span class="keyword">array</span> <span class="variable">$options</span> = []</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;name = <span class="variable">$name</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;default = <span class="variable">$options</span>[<span class="string">&#x27;default&#x27;</span>] ?? <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;type = <span class="variable">$options</span>[<span class="string">&#x27;type&#x27;</span>] ?? <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;byRef = <span class="variable">$options</span>[<span class="string">&#x27;byRef&#x27;</span>] ?? <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;variadic = <span class="variable">$options</span>[<span class="string">&#x27;variadic&#x27;</span>] ?? <span class="literal">false</span>;</span><br><span class="line"> </span><br><span class="line">        <span class="built_in">parent</span>::__construct(</span><br><span class="line">            <span class="variable">$options</span>[<span class="string">&#x27;startLoc&#x27;</span>] ?? <span class="literal">null</span>,</span><br><span class="line">            <span class="variable">$options</span>[<span class="string">&#x27;endLoc&#x27;</span>] ?? <span class="literal">null</span></span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Usage:</span></span><br><span class="line"><span class="keyword">new</span> ParamNode(<span class="variable">$name</span>, [<span class="string">&#x27;variadic&#x27;</span> =&gt; <span class="literal">true</span>]);</span><br></pre></td></tr></table></figure>

<p>有点小机灵，但是很遗憾，它的缺点更多：</p>
<ol>
<li>无法利用类型系统在传参时自动地检测（而是由于属性类型验证失败而报错）</li>
<li>你必须查看实现或是文档，且文档无法很好地记录它（没有公认的规范）</li>
<li>你可以悄无声息地传递未知选项而不会得到报错，这一错误非常普遍，曾经遇到有一个开发者将配置项名打错了一个字母，导致配置无法生效，却也没有得到任何报错，为此debug了一整天</li>
<li>没法利用新特性「构造函数属性升级」</li>
<li>如果你想将现有API切换到数组方式，你不得不破坏API兼容性，但命名参数不需要</li>
</ol>
<p>nikic非常自信地认为，相比而言，<strong>命名参数提供了同等便利，但没有任何缺点</strong>。</p>
<p>此外，RFC还简单延伸了一个备选方案，探讨如何解决历史代码中使用数组的缺陷：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ParamNode</span> <span class="keyword">extends</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">string</span> <span class="variable">$name</span>;</span><br><span class="line">    <span class="keyword">public</span> ExprNode <span class="variable">$default</span>;</span><br><span class="line">    <span class="keyword">public</span> TypeNode <span class="variable">$type</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">bool</span> <span class="variable">$byRef</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">bool</span> <span class="variable">$variadic</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">string</span> <span class="variable">$name</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">array</span> [</span></span></span><br><span class="line"><span class="params"><span class="function">            <span class="string">&#x27;default&#x27;</span> =&gt; ExprNode <span class="variable">$default</span> = <span class="literal">null</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">            <span class="string">&#x27;type&#x27;</span> =&gt; TypeNode <span class="variable">$type</span> = <span class="literal">null</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">            <span class="string">&#x27;byRef&#x27;</span> =&gt; <span class="keyword">bool</span> <span class="variable">$type</span> = <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">            <span class="string">&#x27;variadic&#x27;</span> =&gt; <span class="keyword">bool</span> <span class="variable">$variadic</span> = <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">            <span class="string">&#x27;startLoc&#x27;</span> =&gt; Location <span class="variable">$startLoc</span> = <span class="literal">null</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">            <span class="string">&#x27;endLoc&#x27;</span> =&gt; Location <span class="variable">$endLoc</span> = <span class="literal">null</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        ],</span></span></span><br><span class="line"><span class="params"><span class="function">    </span>) </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;name = <span class="variable">$name</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;default = <span class="variable">$default</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;type = <span class="variable">$type</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;byRef = <span class="variable">$byRef</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;variadic = <span class="variable">$variadic</span>;</span><br><span class="line">        <span class="built_in">parent</span>::__construct(<span class="variable">$startLoc</span>, <span class="variable">$endLoc</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>虽然解决了类型安全问题，但无法解决默默接受未知选项的问题，并且还有很多需要考虑的难题，但不值得继续展开讨论。</p>
<h3 id="更好的注解兼容性"><a href="#更好的注解兼容性" class="headerlink" title="更好的注解兼容性"></a>更好的注解兼容性</h3><p>千呼万唤始出来，PHP8终于有了官方支持的注解特性，对于有些人来说这是比JIT还要让人激动的事情（因为对于他们来说JIT性能提升真的不是很大，PHP5到PHP7的跨越才是永远滴神），那么命名参数对注解又有什么好处呢？</p>
<p>曾经的路由注解可能是这样的（@Symfony Route）:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Route</span>(&quot;/api/posts/&#123;id&#125;&quot;, methods=&#123;&quot;GET&quot;,&quot;HEAD&quot;&#125;)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">show</span>(<span class="params"><span class="keyword">int</span> <span class="variable">$id</span></span>) </span>&#123; ... &#125;</span><br></pre></td></tr></table></figure>

<p>有了官方注解以后可能是这样的：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;&lt;Route(<span class="string">&quot;/api/posts/&#123;id&#125;&quot;</span>, [<span class="string">&quot;methods&quot;</span> =&gt; [<span class="string">&quot;GET&quot;</span>, <span class="string">&quot;HEAD&quot;</span>]])&gt;&gt;</span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">show</span>(<span class="params"><span class="keyword">int</span> <span class="variable">$id</span></span>) </span>&#123; ... &#125;</span><br></pre></td></tr></table></figure>

<p>那么势必造成API的向下不兼容，但有了命名参数以后，我们完全可以保持相同的API结构：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;&lt;Route(<span class="string">&quot;/api/posts/&#123;id&#125;&quot;</span>, methods: [<span class="string">&quot;GET&quot;</span>, <span class="string">&quot;HEAD&quot;</span>])&gt;&gt;</span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">show</span>(<span class="params"><span class="keyword">int</span> <span class="variable">$id</span></span>) </span>&#123; ... &#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>由于缺乏对嵌套注释的支持，仍然需要进行一些更改，但这会使迁移更加顺畅。</p>
</blockquote>
<h2 id="思考"><a href="#思考" class="headerlink" title="思考"></a>思考</h2><p>好了，看到这里很多人应该会觉得：命名参数真是个好东西！双脚赞成！<br>如果是，那么很巧，我也是这么想的，尤其是刚学编程，尝试用Python写一个WEB小程序的时候，我有被命名参数特性小小地惊艳到。<br>但是我们不得不知道的是，以上介绍「好处」的内容仅仅是RFC篇幅的小头部分，剩下的上万字内容也是大多数人所并不关心或不需要关心的实施细节。但我们必须以此思考获得的收益是否能弥补变动的成本，这也正是反对者所忧虑的部分。</p>
<p>我在这里简单罗列一下添加该特性需要考虑的问题们：</p>
<ul>
<li>是否支持动态指定命名参数？如果是，如何支持？使用何种语法？和现有语法有何种冲突？可能影响到的未来语法？</li>
<li>约束条件：如命名参数必须在必选参数之后；不得传递相同的命名参数；不得以命名参数形式覆盖相同位置的参数；不得使用未知的命名参数</li>
<li>可变参函数和参数解压缩规则</li>
<li>受影响的API们（不完全）：<code>func_get_args</code>，<code>call_user_func</code>系列，<code>__invoke()</code>，<code>__call()</code>和<code>__callStatic()</code>等等</li>
<li>继承期间变量名的更改：是否将其视为错误？是，造成向下不兼容？否，违反里式替换原则怎么办？应遵循何种模型，其它哪些语言的实现值得参考？</li>
<li>对于内核实现的影响（太多了，不扩展）</li>
</ul>
<p>有兴趣的同学可以自己阅读原版RFC，体会一下一个看似简单的新特性添加需要多么深入的考虑。最重要的是你还要将它们总结出来并说服绝大部分社区成员投赞成票，不同的人发起同样的主题的RFC也可能会有不同的结果。</p>
<h2 id="命名参数的困境"><a href="#命名参数的困境" class="headerlink" title="命名参数的困境"></a>命名参数的困境</h2><h3 id="修改参数名即是破坏向后兼容性"><a href="#修改参数名即是破坏向后兼容性" class="headerlink" title="修改参数名即是破坏向后兼容性"></a>修改参数名即是破坏向后兼容性</h3><p>CS领域中头号难题：命名！</p>
<p>如果说命名空间、类名、函数方法名已经让我们痛苦不堪，那么现在我们获得了数倍于之前的痛苦，好好想想你的参数名吧，因为你以后不能随便改它了，并且这将是下划线派和驼峰派的又一个战争点，谁输谁赢，谁是新潮流？</p>
<blockquote>
<p>PS：PHP内核开发者们正在对成千上万个内置函数的参数命名进行梳理工作…</p>
</blockquote>
<h3 id="文档和实现中的参数名称不匹配"><a href="#文档和实现中的参数名称不匹配" class="headerlink" title="文档和实现中的参数名称不匹配"></a>文档和实现中的参数名称不匹配</h3><p>参数命名的梳理的工作量翻倍了。</p>
<h3 id="继承的方法中不宜重命名参数名"><a href="#继承的方法中不宜重命名参数名" class="headerlink" title="继承的方法中不宜重命名参数名"></a>继承的方法中不宜重命名参数名</h3><p>该RFC建议遵循Python和Ruby的模型，在子方法中参数名如产生变动则默默接受，调用时使用不匹配的父方法的参数名可能会产生错误。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">I</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"><span class="variable">$foo</span>, <span class="variable">$bar</span></span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span> <span class="keyword">implements</span> <span class="title">I</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"><span class="variable">$a</span>, <span class="variable">$b</span></span>) </span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="variable">$obj</span> = <span class="keyword">new</span> C;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Pass params according to C::test() contract</span></span><br><span class="line"><span class="variable">$obj</span>-&gt;test(a: <span class="string">&quot;foo&quot;</span>, b: <span class="string">&quot;bar&quot;</span>);     <span class="comment">// Works!</span></span><br><span class="line"><span class="comment">// Pass params according to I::test() contract</span></span><br><span class="line"><span class="variable">$obj</span>-&gt;test(foo: <span class="string">&quot;foo&quot;</span>, bar: <span class="string">&quot;bar&quot;</span>); <span class="comment">// Error!</span></span><br></pre></td></tr></table></figure>

<p>通常来说这没什么问题，但对于某些抽象设计来说就很不好了，以下代码将无法正常运作：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Handler</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">handle</span>(<span class="params"><span class="variable">$message</span></span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RegistrationHandler</span> <span class="keyword">implements</span> <span class="title">Handler</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">handle</span>(<span class="params"><span class="variable">$registrationCommand</span></span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ForgottenPasswordHandler</span> <span class="keyword">implements</span> <span class="title">Handler</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">handle</span>(<span class="params"><span class="variable">$forgottenPasswordCommand</span></span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MessageBus</span> </span>&#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">addHandler</span>(<span class="params"><span class="keyword">string</span> <span class="variable">$message</span>, Handler <span class="variable">$handler</span></span>) </span>&#123; <span class="comment">//... &#125;</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getHandler</span>(<span class="params"><span class="keyword">string</span> <span class="variable">$messageType</span></span>): <span class="title">Handler</span> </span>&#123; <span class="comment">//... &#125;</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">dispatch</span>(<span class="params"><span class="variable">$message</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">      	<span class="comment">// handler可能是RegistrationHandler或ForgottenPasswordHandler</span></span><br><span class="line">        <span class="comment">// 它们为了更好地表达参数的意义而改变了参数名, 但也导致了我们无法通过message这个名字来调用它了</span></span><br><span class="line">        <span class="keyword">$this</span>-&gt;getHandler(get_class(<span class="variable">$message</span>))-&gt;handle(message: <span class="variable">$message</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>因此已经有人提出了一个看起来更复杂的RFC：<a href="https://wiki.php.net/rfc/renamed_parameters" target="_blank" rel="noopener">Renamed Parameters</a></p>
<h2 id="未来方向"><a href="#未来方向" class="headerlink" title="未来方向"></a>未来方向</h2><h3 id="简写语法"><a href="#简写语法" class="headerlink" title="简写语法"></a>简写语法</h3><p>我们常常会在栈上使用和参数名一样的变量名，那么我们可能可以简化这一行为：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// before:</span></span><br><span class="line"><span class="keyword">new</span> ParamNode(name: <span class="variable">$name</span>, type: <span class="variable">$type</span>, <span class="keyword">default</span>: <span class="variable">$default</span>, variadic: <span class="variable">$variadic</span>, byRef: <span class="variable">$byRef</span>);</span><br><span class="line"><span class="comment">// after:</span></span><br><span class="line"><span class="keyword">new</span> ParamNode(:<span class="variable">$name</span>, :<span class="variable">$type</span>, :<span class="variable">$default</span>, :<span class="variable">$variadic</span>, :<span class="variable">$byRef</span>);</span><br></pre></td></tr></table></figure>

<p>也适用于数组的解构（比较实用）：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// before</span></span><br><span class="line">[<span class="string">&#x27;x&#x27;</span> =&gt; <span class="variable">$x</span>, <span class="string">&#x27;y&#x27;</span> =&gt; <span class="variable">$y</span>, <span class="string">&#x27;z&#x27;</span> =&gt; <span class="variable">$z</span>] = <span class="variable">$point</span>;</span><br><span class="line"><span class="comment">// after</span></span><br><span class="line">[:<span class="variable">$x</span>, :<span class="variable">$y</span>, :<span class="variable">$z</span>] = <span class="variable">$point</span>;</span><br></pre></td></tr></table></figure>

<p>这样我们可以废弃<code>compact</code>这种魔法一般的函数，刚学PHP的时候我好一会才理解这函数是干嘛的，作为函数，它的能力却和eval一样邪恶，这种特性应当是语法级别的。</p>
<h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>在我看来，这个特性的通过是必然的，这是一个迟早要实现的特性，对很多人来说更是一个姗姗来迟的特性。很多人不了解的是，PHP的RFC常常要求起草者自己想办法实现（包括找人代为实现），而不是直接进入投票环节通过后就强制要求PHP核心开发者实现（你行你上），因此有些RFC由于缺少靠谱的实施者所以就没有下文了。</p>
<p>PHP8这个大版本是去其糟粕、辞旧迎新的好契机，恰逢nikic这样年轻有为的改革派，一些本不可能落地的废弃项和新特性都已安全着陆（未来有空我会介绍一些PHP8中让人拍手称快的糟粕废弃项），PHP更加地「通用脚本语言」，而不再是「Personal Home Page」。</p>

        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        
<span class="post-time">
    Last updated: <time datetime="2020-08-04T05:53:32.553Z" itemprop="dateUpdated">2020-08-04 13:53:32</time>
</span><br>


        
        <a href="/2020/07/17/php8-rfc-named-params/" target="_blank" rel="external">http://www.twosee.cn/2020/07/17/php8-rfc-named-params/</a>
        
    </div>
    
    <footer>
        <a href="http://www.twosee.cn">
            <img src="https://avatars2.githubusercontent.com/u/25978241?s=460&v=4" alt="Twosee">
            Twosee
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/php/" rel="tag">php</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/php8/" rel="tag">php8</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/rfc/" rel="tag">rfc</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://www.twosee.cn/2020/07/17/php8-rfc-named-params/&title=《漫谈PHP8新特性：命名参数》 — TWO SEE&pic=https://avatars2.githubusercontent.com/u/25978241?s=460&v=4" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://www.twosee.cn/2020/07/17/php8-rfc-named-params/&title=《漫谈PHP8新特性：命名参数》 — TWO SEE&source=本文是对「命名参数RFC」的个人解读，先让我们来简单看下RFC的主要内容：
命名参数特性允许基于参数名称而不是参数位置来传递参数，这使得：

可以跳过默认..." data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://www.twosee.cn/2020/07/17/php8-rfc-named-params/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《漫谈PHP8新特性：命名参数》 — TWO SEE&url=http://www.twosee.cn/2020/07/17/php8-rfc-named-params/&via=http://www.twosee.cn" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://www.twosee.cn/2020/07/17/php8-rfc-named-params/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/2021/05/17/zend-hash-load-factor/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">有人发现PHP-7.3后内存占用变大了吗</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/2020/06/12/swoole-coroutine-and-async-io/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">漫谈Swoole协程与异步IO</h4>
      </a>
    </div>
  
</nav>



    











    <!-- Valine Comments -->
    <div class="comments vcomment" id="comments"></div>
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
    <script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script>
    <!-- Valine Comments script -->
    <script>
        var GUEST_INFO = ['nick','mail','link'];
        var guest_info = 'nick,mail,link'.split(',').filter(function(item){
          return GUEST_INFO.indexOf(item) > -1
        });
        new Valine({
            el: '#comments',
            notify: 'false' == 'true',
            verify: 'false' == 'true',
            appId: "BjOaCSsEoD25PlY0akiSOjLV-gzGzoHsz",
            appKey: "vz7DaO87fpAiBNIJAJmcqGm0",
            avatar: "mm",
            placeholder: "Just go go",
            guest_info: guest_info.length == 0 ? GUEST_INFO : guest_info,
            pageSize: "10"
        })
    </script>
    <!-- Valine Comments end -->










</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        谢谢~
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/img/wechat.jpg" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="/img/wechat.jpg" data-alipay="/img/alipay.jpg">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>This blog is licensed under a <a rel="license noopener" href="https://creativecommons.org/licenses/by/4.0/" target="_blank">Creative Commons Attribution 4.0 International License</a>.</span>
        </p>
    </div>
    <div class="bottom">
        <p><span>Twosee &copy; 2003 - 2021</span>
            <span>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://www.twosee.cn/2020/07/17/php8-rfc-named-params/&title=《漫谈PHP8新特性：命名参数》 — TWO SEE&pic=https://avatars2.githubusercontent.com/u/25978241?s=460&v=4" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://www.twosee.cn/2020/07/17/php8-rfc-named-params/&title=《漫谈PHP8新特性：命名参数》 — TWO SEE&source=本文是对「命名参数RFC」的个人解读，先让我们来简单看下RFC的主要内容：
命名参数特性允许基于参数名称而不是参数位置来传递参数，这使得：

可以跳过默认..." data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://www.twosee.cn/2020/07/17/php8-rfc-named-params/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《漫谈PHP8新特性：命名参数》 — TWO SEE&url=http://www.twosee.cn/2020/07/17/php8-rfc-named-params/&via=http://www.twosee.cn" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://www.twosee.cn/2020/07/17/php8-rfc-named-params/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACKklEQVR42u3aS27jMBAFQN//0h4gqwAeK++x5cGELK4M2RJZCsCwP49HPJ5f493n71der7/+pn3abQMDA+PXMp6X43Wyd/cmV949//qVRfdiYGAcwJg87hq/tlnna8PAwMC4/k2y3LXjJgYGBsZkw82/XQtcMTAwMCZBbLKx3hUGfzAWx8DA+IWMeWHgc5//aX0DAwPjv2TMk2jzu25YFQYGxtaM6+NdMkG+xPZwWSfyMDAwDmO0LV+fS6IlZU4MDIwTGO2WupYySzBt4RMDA+M0RlsMaMPRSYqtuAsDA2M7Rl4UbMPU9nA5CqQxMDC2ZiRJriQ0zZeeMNpGDQwMjBMYbQEyObQlKbMWGZUwMTAwtmPk6a1JI0X7OuqCAQYGxtaMPLueU+uwMy4D5IUKDAyM/RhtO8VammytSFlstRgYGJsy7mqSSJonkk05eYl/uQsDA2Nrxlp7RBusrqXq8hIpBgbGCYx8Wfnhbw2Qz/j2hIuBgbEpY+0Rk7awPG2XHxMxMDB2ZeSB5RrgrqD0h78DBgbGAYzkEe022rZ5rRUqMDAwTmC0YWfeVJGHuI9yFOk2DAyMLRjPcqyl3lpM/S0GBsbWjMk21042abyoK7EYGBjbMdpNti0xtgfKuqaBgYFxDGOSMmvj5nn4ioGBgbE28V0B8No/AAwMDIwPTh9vtT8cNzEwMA5gtAmyyXacFxXy1jQMDIy9GaNOjXiC+ZbdtqZhYGBswfgDT0XRPyl2394AAAAASUVORK5CYII=" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };


</script>

<script src="/js/main.min.js?v=1.7.2"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="/js/search.min.js?v=1.7.2" async></script>






<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>





</body>
</html>
